{% extends "base.html" %}

{% block title %}æˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨å®˜ç½‘{% endblock %}

{% block content %}
<h1>ğŸ® æˆ‘çš„ä¸–ç•Œå…¬ç›ŠæœåŠ¡å™¨å®˜ç½‘â€”â€”By LXD</h1>

<!-- æœåŠ¡å™¨åˆ—è¡¨ -->
<h2>ğŸŒ æœåŠ¡å™¨åˆ—è¡¨</h2>
<div class="server-grid">
    {% for server in servers %}
    <div class="server-card">
        <h3 class="server-name">{{ server.name }}</h3>
        <div data-server-id="{{ server.id }}" style="hide">{{ server.id }}</div>
        <div class="server-info">
            <span class="server-status {{ 'status-online' if server.is_online else 'status-offline' }}"
                id="status-{{ server.id }}">
                {{ 'åœ¨çº¿' if server.is_online else 'ç¦»çº¿' }}
            </span>
            <span> | </span>
            <span id="players-{{ server.id }}">{{ server.current_players }}/{{ server.max_players }}</span>
        </div>
        <div class="server-info">
            <strong>åœ°å€:</strong> {{ server.ip }}:{{ server.port }}
        </div>
        <div class="server-info">
            <strong>ç‰ˆæœ¬:</strong> {{ server.version }}
        </div>
        {% if server.description %}
        <div class="server-description">
            {{ server.description }}
        </div>
        {% endif %}
    </div>
    {% else %}
    <div class="server-card">
        <p>æš‚æ— æœåŠ¡å™¨ä¿¡æ¯</p>
    </div>
    {% endfor %}
</div>

<!-- æ•´åˆåŒ…ä¸‹è½½ -->
<h2>ğŸ“¦ æ•´åˆåŒ…ä¸‹è½½</h2>
<div class="pack-grid">
    {% for pack in packs %}
    <div class="pack-card">
        <h3 class="pack-name">{{ pack.name }}</h3>
        <div class="pack-version">ç‰ˆæœ¬: {{ pack.version }}</div>
        <div class="pack-info">ä¸‹è½½æ¬¡æ•°: {{ pack.download_count }}</div>
        {% if pack.description %}
        <div class="pack-description">{{ pack.description }}</div>
        {% endif %}
        <a href="{{ url_for('download_pack', pack_id=pack.id) }}" class="download-btn">
            ä¸‹è½½æ•´åˆåŒ…
        </a>
    </div>
    {% else %}
    <div class="pack-card">
        <p>æš‚æ— æ•´åˆåŒ…</p>
    </div>
    {% endfor %}
</div>

<!-- ç½‘ç«™ä¿¡æ¯ + ç‰ˆæƒ/å‹é“¾ -->
<footer class="site-footer">
    <section class="info">
        <h3>ğŸ“Š ç½‘ç«™ä¿¡æ¯</h3>
        <p>å·²è¿è¡Œ <strong>{{ uptime_days }}</strong> å¤©</p>
        <p>å¾®ä¿¡ï¼š<b>LXD-FUN</b> Â· QQï¼š<b>2966918467</b></p>
        <p>æ‰«ç èµåŠ© â†’ å¾—ç®¡ç†å‘˜æƒé™ + å…è´¹å¼€æœ</p>
        <img src="{{ url_for('static', filename='images/qrcode_donate.png') }}" alt="èµåŠ©ç ">
    </section>

    <section class="copyright">
        Â© 2023-2025 æˆ‘çš„ä¸–ç•Œå…¬ç›ŠæœåŠ¡å™¨å®˜ç½‘ Â· All Rights Reserved
        <br>
        å‹æƒ…é“¾æ¥ï¼š
        <a href="https://www.mcbbs.net" target="_blank">MCBBS</a>
        <a href="https://mcmod.cn" target="_blank">MCç™¾ç§‘</a>
        <a href="https://www.mojang.com" target="_blank">Mojang</a>
    </section>
</footer>

<style>
    .site-footer {
        margin: 2rem 0 0;
        padding: 1.5rem 1rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: #fff;
        border-radius: 8px;
        text-align: center;
        font-size: 0.9rem;
    }

    .site-footer h3 {
        margin: 0 0 0.5rem;
        font-size: 1.2rem;
    }

    .site-footer p {
        margin: 0.2rem 0;
    }

    .site-footer img {
        width: 110px;
        border-radius: 6px;
        margin: 0.6rem 0;
    }

    .site-footer .copyright {
        margin-top: 1rem;
        padding-top: 0.8rem;
        border-top: 1px solid rgba(255, 255, 255, 0.3);
    }

    .site-footer a {
        margin: 0 0.4rem;
        color: #fff;
        font-weight: bold;
    }
</style>
{% endblock %}